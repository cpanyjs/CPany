import{I as g}from"./account-eoA98fxm.js";import{_ as c,I as T,a as B,b as I}from"./c-stastic.vue_vue_type_script_setup_true_lang-DPy-90w0.js";import{d as L,r as N,u as _,a as x,b as S,c as V,e as f,f as l,g as e,w as s,h as t,t as a,i as v,j as i,o as h,k as j,l as D,m as y,n as H,p as M,q as O}from"./index-Cc-lLLcQ.js";import{C as d,a as p}from"./c-table-B5Gf5T_P.js";import{_ as C}from"./user-link.vue_vue_type_script_setup_true_lang-D-ZGsYJ_.js";const $={class:"flex <lg:flex-col-reverse"},q={class:"lg:w-3/5 <lg:w-full"},A={class:"box divide-y"},E={key:0},F={class:"flex flex-1 items-center justify-center"},U={class:"text-right <md:mt-4 pt-2"},z={class:"lg:w-2/5 <lg:w-full"},G={class:"lg:ml-4 <lg:mb-4"},J={class:"box divide-y"},K={class:"mb-4"},P={key:0},Q={class:"py-4 md:flex md:items-center md:justify-around <md:grid <md:grid-cols-2"},R={class:"text-right pt-2"},W={class:"box mt-4 divide-y"},X={class:"font-600"},Y={class:"text-right pt-2"},Z={class:"box mt-4 divide-y"},tt={class:"font-600"},et={class:"text-right pt-2"},dt=L({__name:"Home",setup(st){const b=" "+(N/86400).toFixed(0)+" 天",k=_.sort((r,n)=>n.submissions.length-r.submissions.length).slice(0,x),w=_.map(r=>({contestsLength:r.contests.filter(({t:m})=>m>=S).length,...r})).sort((r,n)=>n.contestsLength-r.contestsLength).slice(0,x);return(r,n)=>{const m=V("router-link");return h(),f("div",$,[l("div",q,[l("div",A,[n[3]||(n[3]=l("h3",{class:"mb-4"},"最近比赛",-1)),e(t(p),{data:t(D),class:"pt-2"},{columns:s(({row:o})=>[e(t(d),{label:"比赛","mobile-header-class":["min-w-8"]},{default:s(()=>[e(m,{to:o.path},{default:s(()=>[i(a(o.name),1)]),_:2},1032,["to"])]),_:2},1024),e(t(d),{label:"时间",align:"center",width:"10em"},{default:s(()=>[o.startTime?(h(),f("span",E,a(t(j)(o.startTime).value),1)):v("v-if",!0)]),_:2},1024),e(t(d),{label:"人数",align:"center",width:"5em"},{default:s(()=>[l("div",F,[e(t(g)),n[0]||(n[0]=i(" ")),l("span",null,"x "+a(o.participantNumber),1)])]),_:2},1024)]),empty:s(()=>n[1]||(n[1]=[l("div",{class:"my-4 px-3"},"好像都大家没有参加比赛？",-1)])),_:1},8,["data"]),l("div",U,[e(m,{to:{name:"Contests"},class:"text-gray-400 font-thin hover:underline"},{default:s(()=>n[2]||(n[2]=[i("→ 更多比赛")])),_:1})])])]),l("div",z,[l("div",G,[l("div",J,[l("h3",K,[t(y)!==""?(h(),f("span",P,a(t(y))+" ",1)):v("v-if",!0),n[4]||(n[4]=i("总览 "))]),l("div",Q,[e(t(c),{title:"用户"},{prefix:s(()=>[e(t(g))]),default:s(()=>[i(a(t(_).length),1)]),_:1}),e(t(c),{title:"参与比赛"},{prefix:s(()=>[e(t(T),{class:"text-blue-400"})]),default:s(()=>[i(a(t(H)),1)]),_:1}),e(t(c),{title:"提交"},{prefix:s(()=>[e(t(B),{class:"text-yellow-400"})]),default:s(()=>[i(a(t(M)),1)]),_:1}),e(t(c),{title:"正确提交"},{prefix:s(()=>[e(t(I),{class:"text-red-400"})]),default:s(()=>[i(a(t(O)),1)]),_:1})]),l("div",R,[e(m,{to:{name:"History"},class:"text-gray-400 font-thin hover:underline"},{default:s(()=>n[5]||(n[5]=[i("→ 历史")])),_:1})])]),l("div",W,[l("h3",{class:"mb-4"},"最近"+a(b)+"用户提交数"),e(t(p),{data:t(k),mobile:0},{columns:s(({row:o,index:u})=>[e(t(d),{label:"#",width:"2em",align:"center"},{default:s(()=>[l("span",X,a(u+1),1)]),_:2},1024),e(t(d),{label:"姓名"},{default:s(()=>[e(C,{name:o.name},null,8,["name"])]),_:2},1024),e(t(d),{label:"提交数",width:"6em",align:"center"},{default:s(()=>[l("span",null,a(o.submissions.length),1)]),_:2},1024)]),_:1},8,["data"]),l("div",Y,[e(m,{to:{name:"Members"},class:"text-gray-400 font-thin hover:underline"},{default:s(()=>n[6]||(n[6]=[i("→ 更多")])),_:1})])]),l("div",Z,[l("h3",{class:"mb-4"},"最近"+a(b)+"用户比赛数"),e(t(p),{data:t(w),mobile:0},{columns:s(({row:o,index:u})=>[e(t(d),{label:"#",width:"2em",align:"center"},{default:s(()=>[l("span",tt,a(u+1),1)]),_:2},1024),e(t(d),{label:"姓名"},{default:s(()=>[e(C,{name:o.name},null,8,["name"])]),_:2},1024),e(t(d),{label:"比赛数",width:"6em",align:"center"},{default:s(()=>[l("span",null,a(o.contestsLength),1)]),_:2},1024)]),_:1},8,["data"]),l("div",et,[e(m,{to:{name:"Members"},class:"text-gray-400 font-thin hover:underline"},{default:s(()=>n[7]||(n[7]=[i("→ 更多")])),_:1})])])])])])}}});export{dt as default};
