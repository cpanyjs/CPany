var M=Object.defineProperty;var R=Object.getOwnPropertySymbols;var U=Object.prototype.hasOwnProperty,z=Object.prototype.propertyIsEnumerable;var O=(i,s,o)=>s in i?M(i,s,{enumerable:!0,configurable:!0,writable:!0,value:o}):i[s]=o,E=(i,s)=>{for(var o in s||(s={}))U.call(s,o)&&O(i,o,s[o]);if(R)for(var o of R(s))z.call(s,o)&&O(i,o,s[o]);return i};import{d as K,G as P,v as Q,x as W,o as N,e as V,g as a,h as e,w as u,f as _,j as l,m as q,b as X,H as Y,l as h,k as Z,I as d,J as tt}from"./index.32e4ad51.js";import{u as et}from"./users.ef6bf891.js";import{C as st,a as c}from"./c-table.ee30021a.js";import{_ as ot}from"./user-link.5e42a899.js";import"./load.cb88c74f.js";const nt={class:"divide-y"},at=_("h2",{class:"mb-4"},"\u6210\u5458",-1),ut={class:"font-600"},rt={key:0},lt=_("div",{class:"my-4 px-3"},"\u4EBA\u634F\uFF1F",-1),ct={class:"mt-4 pt-4"},it={class:"text-gray-400"},Ct=K({__name:"Members",setup(i){var x,T;const s=P(),o=String((x=s.query.sort)!=null?x:"\u6700\u8FD1\u901A\u8FC7"),w=String((T=s.query.order)!=null?T:"desc"),f=Q(X),$=t=>{const b=t.submissions.length,C=t.submissions.filter(({v:r})=>r!==0).length,n=(b!==0?(100*C/b).toFixed(1):"0.0")+" %",H=t.submissions.filter(({t:r})=>r>=f.value).length,I=t.submissions.filter(({t:r,v:g})=>r>=f.value&&g!==0).length,J=t.contests.filter(({t:r})=>r>=f.value).length,A=t.submissions.filter(({v:r})=>r===1).sort((r,g)=>g.t-r.t),L=A.length>0?A[0].t:0;return E({subCount:b,okCount:C,okRate:n,recentSubCount:H,recentOkCount:I,recentContest:J,lastSolveTime:L},t)},j=W(()=>et.map($)),p=d(t=>t.recentOkCount),B=d(t=>t.recentContest),S=d(t=>t.lastSolveTime),y=d(t=>t.recentSubCount),v=d(t=>t.okCount),F=d(t=>t.contests.length),k=d(t=>t.subCount),D=d(t=>Number.parseFloat(t.okRate)),G=tt(t=>t.name);function m(t){return Y(t,p,B,S,y,v,F,k,D,G)}return(t,b)=>(N(),V("div",nt,[at,a(e(st),{data:e(j),cache:"members","default-sort":e(o),"default-sort-order":e(w)},{columns:u(({index:C,row:n})=>[a(e(c),{label:"#",width:"3em",align:"center"},{default:u(()=>[_("span",ut,l(C+1),1)]),_:2},1024),a(e(c),{label:"\u59D3\u540D"},{default:u(()=>[a(ot,{name:n.name},null,8,["name"])]),_:2},1024),a(e(c),{label:"\u6700\u8FD1\u901A\u8FC7",width:"7em",align:"right",sort:m(e(p))},{default:u(()=>[h(l(n.recentOkCount),1)]),_:2},1032,["sort"]),a(e(c),{label:"\u6700\u8FD1\u63D0\u4EA4",width:"7em",align:"right",sort:m(e(y))},{default:u(()=>[h(l(n.recentSubCount),1)]),_:2},1032,["sort"]),a(e(c),{label:"\u6700\u8FD1\u6BD4\u8D5B",width:"7em",align:"right",sort:m(e(B))},{default:u(()=>[h(l(n.recentContest),1)]),_:2},1032,["sort"]),a(e(c),{label:"\u6700\u65B0\u901A\u8FC7",width:"10em",align:"center",sort:m(e(S))},{default:u(()=>[n.lastSolveTime>0?(N(),V("span",rt,l(e(q)(n.lastSolveTime).value),1)):Z("v-if",!0)]),_:2},1032,["sort"]),a(e(c),{label:"\u901A\u8FC7",width:"5em",align:"right",sort:m(e(v))},{default:u(()=>[h(l(n.okCount),1)]),_:2},1032,["sort"]),a(e(c),{label:"\u63D0\u4EA4",width:"5em",align:"right",sort:m(e(k))},{default:u(()=>[h(l(n.subCount),1)]),_:2},1032,["sort"]),a(e(c),{label:"\u901A\u8FC7\u7387",width:"6em",align:"right",sort:m(e(D))},{default:u(()=>[h(l(n.okRate),1)]),_:2},1032,["sort"]),a(e(c),{label:"\u6BD4\u8D5B",width:"5em",align:"right",sort:m(e(F))},{default:u(()=>[h(l(n.contests.length),1)]),_:2},1032,["sort"])]),empty:u(()=>[lt]),_:1},8,["data","default-sort","default-sort-order"]),_("div",ct,[_("span",it,"\u6700\u8FD1\u5F00\u59CB\u4E8E "+l(e(q)(f.value).value),1)])]))}});export{Ct as default};
