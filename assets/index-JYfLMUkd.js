var v=Object.defineProperty;var g=(t,s,e)=>s in t?v(t,s,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[s]=e;var h=(t,s,e)=>g(t,typeof s!="symbol"?s+"":s,e);import{k as w,O as S,d as E,c as T,o as a,e as r,f as o,Q as b,R as f,h as u,t as c,S as k,g as B,w as C,j as R,V as F}from"./index-CYbdUtQ1.js";import{l as D}from"./load-Bav7-mWT.js";const V=JSON.parse('{"keyMaps":[],"stringMaps":[],"data":{"startTime":1745155219,"history":{"user":[],"contest":[]},"commits":["0aba40e98e664efc5236e8fcf7357ce760a9b8e3"]}}'),m=D(V),x=m.history;m.commits;const L=w(m.startTime);class M{constructor(){h(this,"submissions",new Map)}mergeSub(s,e){this.submissions.has(s)?this.submissions.get(s).push(e):this.submissions.set(s,[e])}list(){const s=[];for(const[e,n]of this.submissions)s.push({name:e,newSubmissions:n,newContests:[]});return s.sort((e,n)=>n.newSubmissions.length-e.newSubmissions.length)}}const l=new Map;for(const t of x.user??[])for(const s of t.newSubmissions){if(s.creationTime<m.startTime)continue;const e=S(s.creationTime).value;l.has(e)||l.set(e,new M),l.get(e).mergeSub(t.name,s)}const _=[...l.entries()].map(t=>({day:t[0],record:t[1]})).sort((t,s)=>s.day.localeCompare(t.day)).map(t=>({day:t.day.replace(/(\d+)-0?(\d+)-0?(\d+)/,"$1 年 $2 月 $3 日"),record:t.record})),N={class:"divide-y"},O=o("h2",{class:"mb-4"},"历史",-1),$={class:"py-4"},A={class:"pl-[8px] relative timeline"},j={class:"font-bold pb-2"},z={class:"mt-2"},H=o("span",null," 提交了 ",-1),J={class:"font-bold"},K=o("span",null," 次代码，通过了 ",-1),Q={class:"font-bold"},W=o("span",null," 个题目",-1),q={class:"mt-2 pt-4"},G={class:"text-gray-400"},X=E({__name:"index",setup(t){const s=e=>e.filter(n=>n.verdict===F.OK);return(e,n)=>{const y=T("router-link");return a(),r("div",N,[O,o("div",$,[o("div",A,[(a(!0),r(b,null,f(u(_),(p,i)=>(a(),r("div",{key:p.day,class:"relative timeline-item pl-4"},[o("div",{class:"py-4 px-4 border rounded-md divide-y",style:k({borderTopWidth:i>0?0:void 0,borderTopLeftRadius:i>0?0:void 0,borderTopRightRadius:i>0?0:void 0,borderBottomLeftRadius:i+1<u(_).length?0:void 0,borderBottomRightRadius:i+1<u(_).length?0:void 0})},[o("div",j,c(p.day),1),o("div",null,[(a(!0),r(b,null,f(p.record.list(),d=>(a(),r("div",z,[B(y,{to:`/user/${d.name}`},{default:C(()=>[R(c(d.name),1)]),_:2},1032,["to"]),H,o("span",J,c(d.newSubmissions.length),1),K,o("span",Q,c(s(d.newSubmissions).length),1),W]))),256))])],4)]))),128))])]),o("div",q,[o("span",G,"最近开始于 "+c(u(L)),1)])])}}});export{X as default};
