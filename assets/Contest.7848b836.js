import{o as n,e as s,f as o,d as F,z as D,x as B,h as e,E as C,S as M,j as i,F as p,C as R,B as $,g as m,w as y,l as I,V as O,k,T as S,R as P,U as Z,m as j,W as q}from"./index.32e4ad51.js";import{a as U,C as G}from"./c-table.ee30021a.js";import{_ as w}from"./user-link.5e42a899.js";import{_ as K}from"./cf-rating-color.a56ca33c.js";import{l as V}from"./load.cb88c74f.js";import{_ as Q,a as X}from"./nc-rating-color.e75d9a97.js";const tt={preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},et=o("path",{fill:"currentColor",d:"M17.65 6.35A7.958 7.958 0 0 0 12 4a8 8 0 0 0-8 8a8 8 0 0 0 8 8c3.73 0 6.84-2.55 7.73-6h-2.08A5.99 5.99 0 0 1 12 18a6 6 0 0 1-6-6a6 6 0 0 1 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35Z"},null,-1),nt=[et];function at(t,u){return n(),s("svg",tt,nt)}var st={name:"mdi-refresh",render:at};const rt={preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},ot=o("path",{fill:"currentColor",d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.62L12 2L9.19 8.62L2 9.24l5.45 4.73L5.82 21L12 17.27Z"},null,-1),lt=[ot];function it(t,u){return n(),s("svg",rt,lt)}var ct={name:"mdi-star",render:it};const ut={class:"space-left"},dt={key:1},mt=F({__name:"TeamName",props:{author:null},setup(t){const u=t,{author:a}=D(u),r=B(()=>{var N,f;return(f=(N=a==null?void 0:a.value)==null?void 0:N.teamUrl)!=null?f:""}),d=()=>{r.value!==""&&window.open(r.value,"_blank")};return(N,f)=>e(C)(e(a).teamName)?(n(),s(p,{key:0},[o("div",null,[o("span",{class:M(e(r)!==""&&"cursor-pointer"),onClick:d},i(e(a).teamName),3)]),o("div",ut,[(n(!0),s(p,null,R(e(a).members,(h,E)=>(n(),$(w,{class:M(E>0&&"ml-2"),key:h,name:h},null,8,["class","name"]))),128))])],64)):(n(),s("span",dt,i(e(a).members[0]),1))}});var ht=JSON.parse('{"keyMaps":[],"stringMaps":[["tourist","a"],["Petr","b"],["Benq","c"],["ksun48","d"],["jiangly","e"]],"data":[{"n":"a","h":"a","r":3911},{"n":"b","h":"b","r":3296},{"n":"c","h":"c","r":3583},{"n":"d","h":"d","r":3334},{"n":"e","h":"e","r":3125}]}');const J=V(ht),ft=new Map(J.map(t=>[t.h,t.n])),_t=new Map(J.map(t=>[t.h,t.r]));function le(t){var u;return(u=ft.get(t))!=null?u:t}function W(t){return _t.get(t)}const pt={class:"space-left"},vt=["href"],gt={class:"space-left"},yt=["href"],bt={key:2},$t=F({__name:"CfHandles",props:{author:null},setup(t){return(u,a)=>e(C)(t.author.teamName)&&t.author.members.length<=1?(n(),s(p,{key:0},[m(w,{name:t.author.teamName},null,8,["name"]),o("span",pt,[(n(!0),s(p,null,R(t.author.members,(r,d)=>(n(),s("a",{key:d,class:"ml-2",href:`https://codeforces.com/profile/${r}`,target:"_blank"},[m(e(K),{rating:e(W)(r)},{default:y(()=>[I(i(r),1)]),_:2},1032,["rating"])],8,vt))),128))])],64)):e(C)(t.author.teamName)?(n(),s(p,{key:1},[o("div",null,[m(w,{name:t.author.teamName},null,8,["name"])]),o("div",gt,[(n(!0),s(p,null,R(t.author.members,(r,d)=>(n(),s("a",{key:d,class:M(d>0&&"ml-2"),href:`https://codeforces.com/profile/${r}`,target:"_blank"},[m(e(K),{rating:e(W)(r)},{default:y(()=>[I(i(r),1)]),_:2},1032,["rating"])],10,yt))),128))])],64)):(n(),s("span",bt,i(t.author.members[0]),1))}});var kt=JSON.parse('{"keyMaps":[],"stringMaps":[["tourist","a"],["jiangly","b"]],"data":[{"n":"a","h":"a","r":3969},{"n":"b","h":"b","r":3343}]}');const z=V(kt);new Map(z.map(t=>[t.h,t.n]));const xt=new Map(z.map(t=>[t.h,t.r]));function Ct(t){return xt.get(t)}const Nt={class:"space-left"},Bt=["href"],Mt={key:1},Ft=F({__name:"AtHandles",props:{author:null},setup(t){return(u,a)=>e(C)(t.author.teamName)?(n(),s(p,{key:0},[m(w,{name:t.author.teamName},null,8,["name"]),o("span",Nt,[(n(!0),s(p,null,R(t.author.members,(r,d)=>(n(),s("a",{key:d,class:"ml-2 font-bold",href:`https://atcoder.jp/users/${r}`,target:"_blank"},[m(e(Q),{rating:e(Ct)(r)},{default:y(()=>[I(i(r),1)]),_:2},1032,["rating"])],8,Bt))),128))])],64)):(n(),s("span",Mt,i(t.author.members[0]),1))}});var Tt=JSON.parse('{"keyMaps":[],"stringMaps":[],"data":[]}');const Y=V(Tt);new Map(Y.map(t=>[t.hn,t.n]));const At=new Map(Y.map(t=>[t.hn,t.r]));function Rt(t){return At.get(t)}const Et=["href"],Ut={class:"space-left"},Ot=["href"],wt={key:1},Ht=F({__name:"NcHandles",props:{author:null},setup(t){return(u,a)=>e(C)(t.author.teamName)?(n(),s(p,{key:0},[o("div",null,[o("a",{href:t.author.teamUrl},[m(e(X),{rating:e(Rt)(t.author.teamName)},{default:y(()=>[I(i(t.author.teamName),1)]),_:1},8,["rating"])],8,Et)]),o("div",Ut,[(n(!0),s(p,null,R(t.author.members,(r,d)=>(n(),s("span",{key:r,class:M(d>0&&"ml-2")},[/^\d+$/.test(r)?(n(),s("a",{key:0,href:`https://ac.nowcoder.com/acm/contest/profile/${r}`},i(r),9,Ot)):(n(),$(w,{key:1,name:r},null,8,["name"]))],2))),128))])],64)):(n(),s("span",wt,i(t.author.members[0]),1))}}),St=o("span",null,"+",-1),It={key:0},Lt={key:0,class:"text-sm text-gray-400"},Dt={key:1},Vt={class:"text-center font-bold text-red-500"},Pt=o("span",null,"-",-1),jt=F({__name:"StandingResult",props:{result:null,practice:{type:Boolean}},setup(t){const u=t,{result:a}=D(u),r=B(()=>{var f,h;return(h=(f=a==null?void 0:a.value)==null?void 0:f.submissionUrl)!=null?h:""}),d=()=>{r.value!==""&&window.open(r.value,"_blank")};function N(f){function h(T){return(T<10?"0":"")+T}const E=Math.floor(f/3600),L=Math.floor(f%3600/60);return`${E}:${h(L)}`}return(f,h)=>e(a)?(n(),s(p,{key:0},[e(a).verdict===e(O).OK?(n(),s("div",{key:0,class:M(e(r)!==""&&"cursor-pointer"),onClick:d},[o("div",{class:M(["text-center","font-bold",t.practice?"text-blue-500":"text-green-500"])},[St,e(a).dirty?(n(),s("span",It,i(e(a).dirty),1)):k("v-if",!0)],2),t.practice?k("v-if",!0):(n(),s("div",Lt,[o("span",null,i(N(e(a).relativeTime)),1)]))],2)):e(a).dirty?(n(),s("div",Dt,[o("div",Vt,[Pt,o("span",null,i(e(a).dirty),1)])])):k("v-if",!0)],64)):k("v-if",!0)}}),Kt={key:0,class:"mt-4 box"},Wt={key:0,class:"font-600"},Jt={key:1,class:"font-600"},zt={class:"flex items-center"},Yt={key:0},Zt=F({__name:"ContestStandings",props:{contest:null},setup(t){const u=t,{contest:a}=D(u),r=B(()=>a.value.type.startsWith("codeforces")),d=B(()=>a.value.type.startsWith("atcoder")),N=B(()=>a.value.type.startsWith("nowcoder")),f=c=>c.author.participantType===P.OUT_OF_COMPETITION,h=c=>c.author.participantType===P.PRACTICE,E=c=>typeof c=="string"?c:String.fromCharCode(65+c),L=B(()=>{var c,A;return(A=(c=a.value.problems)==null?void 0:c.sort((l,b)=>{const _=typeof l.index=="string"?l.index.charCodeAt(0)-65:l.index,v=typeof b.index=="string"?b.index.charCodeAt(0)-65:b.index;return _-v}))!=null?A:[]}),T=B(()=>{var A,l,b;if(S(a.value.problems))return{standings:[],firstBlood:[]};if(S(a.value.standings))return{standings:[],firstBlood:[]};const c=Array((A=a.value.problems)==null?void 0:A.length);for(const _ of a.value.standings){const v=Array((l=a.value.problems)==null?void 0:l.length);for(const g of _.submissions){const x=g.problemIndex;if(g.verdict===O.OK&&!h(_)&&(S(c[x])||c[x].relativeTime>g.relativeTime)&&(c[x]=g),S(v[x]))v[x]=g;else{const H=v[x];((b=H==null?void 0:H.verdict)!=null?b:O.FAILED)!==O.OK&&(v[x]=g)}}Reflect.set(_,"result",v)}return{standings:a.value.standings,firstBlood:c}});return(c,A)=>e(a).standings?(n(),s("div",Kt,[m(e(G),{data:e(T).standings,mobile:1023},{columns:y(({row:l})=>[m(e(U),{label:"#",align:"center",width:"4em"},{default:y(()=>[h(l)?(n(),s("span",Jt,"-")):(n(),s("span",Wt,i(l.rank),1))]),_:2},1024),m(e(U),{label:e(r)?"Handle":""},{default:y(()=>[o("div",zt,[f(l)?(n(),$(e(ct),{key:0,class:"mr-1 text-sm text-yellow-300 inline-block"})):k("v-if",!0),o("div",null,[e(r)?(n(),$($t,{key:0,author:l.author},null,8,["author"])):e(d)?(n(),$(Ft,{key:1,author:l.author},null,8,["author"])):e(N)?(n(),$(Ht,{key:2,author:l.author},null,8,["author"])):(n(),$(mt,{key:3,author:l.author},null,8,["author"]))])])]),_:2},1032,["label"]),m(e(U),{label:"\u89E3\u51B3",align:"center",width:"4em"},{default:y(()=>[o("span",null,i(l.solved),1)]),_:2},1024),m(e(U),{label:"\u7F5A\u65F6",align:"center",width:"4em"},{default:y(()=>[h(l)?k("v-if",!0):(n(),s("span",Yt,i(e(Z)(l.penalty).value),1))]),_:2},1024),(n(!0),s(p,null,R(e(L),(b,_)=>{var v,g;return n(),$(e(U),{key:b.index,label:E(b.index),center:"",class:M(e(C)(l)&&e(C)(e(T).firstBlood[_])&&e(C)(l.result[_])&&l.result[_].verdict===e(O).OK&&l.result[_].relativeTime<=((g=(v=e(T).firstBlood[_])==null?void 0:v.relativeTime)!=null?g:Number.MIN_SAFE_INTEGER)&&"bg-[#E0FFE4]")},{default:y(()=>[m(jt,{result:l.result[_],practice:h(l)},null,8,["result","practice"])]),_:2},1032,["label","class"])}),128))]),_:1},8,["data"])])):k("v-if",!0)}}),qt={class:"mb-4 flex items-center"},Gt={class:"info-box border-left"},Qt={key:0},Xt=["href"],te=["href"],ie=F({__name:"Contest",props:{contest:null,dynamic:{type:Boolean}},emits:["refresh"],setup(t,{emit:u}){return(a,r)=>(n(),s("div",null,[o("h2",qt,[o("span",null,i(t.contest.name),1),t.dynamic?(n(),$(e(st),{key:0,class:"ml-4 h-8 w-8 p-1 border rounded-full cursor-pointer hover:bg-light-700",onClick:r[0]||(r[0]=d=>u("refresh"))})):k("v-if",!0)]),o("div",Gt,[o("p",null," \u65F6\u95F4\uFF1A"+i(e(j)(t.contest.startTime).value)+" \u81F3 "+i(e(j)(t.contest.startTime+t.contest.duration).value),1),o("p",null,"\u65F6\u957F\uFF1A"+i(e(q)(t.contest.duration).value),1),o("p",null,"\u4EBA\u6570\uFF1A"+i(t.contest.participantNumber)+" \u4EBA",1),t.contest.contestUrl||t.contest.standingsUrl?(n(),s("p",Qt,[o("a",{href:t.contest.contestUrl,target:"_blank"},"\u6BD4\u8D5B\u4E3B\u9875",8,Xt),o("a",{href:t.contest.standingsUrl,target:"_blank",class:"ml-2"},"\u5B8C\u6574\u699C\u5355",8,te)])):k("v-if",!0)]),m(Zt,{contest:t.contest},null,8,["contest"])]))}});export{ie as _,le as f,J as h};
