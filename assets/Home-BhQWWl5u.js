import{I as g}from"./account-Dj4GLZsj.js";import{_,I as F,a as A,b as E}from"./c-stastic-BuCfMiYd.js";import{d as k,r as w,u as m,a as x,b as T,c as I,o as h,e as f,f as a,g as e,w as s,h as t,t as n,i as D,j as o,k as L,l as N,m as v,n as S,p as V,q as j}from"./index-CYbdUtQ1.js";import{C as u,a as p}from"./c-table-rbIyLGR-.js";import{_ as B}from"./user-link-BLGhVy6a.js";const H={class:"flex <lg:flex-col-reverse"},M={class:"lg:w-3/5 <lg:w-full"},O={class:"box divide-y"},$=a("h3",{class:"mb-4"},"最近比赛",-1),q={key:0},U={class:"flex flex-1 items-center justify-center"},z=o(" "),G=a("div",{class:"my-4 px-3"},"好像都大家没有参加比赛？",-1),J={class:"text-right <md:mt-4 pt-2"},K=o("→ 更多比赛"),P={class:"lg:w-2/5 <lg:w-full"},Q={class:"lg:ml-4 <lg:mb-4"},R={class:"box divide-y"},W={class:"mb-4"},X={key:0},Y=o("总览 "),Z={class:"py-4 md:flex md:items-center md:justify-around <md:grid <md:grid-cols-2"},tt={class:"text-right pt-2"},et=o("→ 历史"),st={class:"box mt-4 divide-y"},at={class:"font-600"},nt={class:"text-right pt-2"},lt=o("→ 更多"),ot={class:"box mt-4 divide-y"},ut={class:"font-600"},it={class:"text-right pt-2"},ct=o("→ 更多"),pt=k({__name:"Home",setup(dt){const b=" "+(w/86400).toFixed(0)+" 天",C=m.sort((i,d)=>d.submissions.length-i.submissions.length).slice(0,x),y=m.map(i=>({contestsLength:i.contests.filter(({t:c})=>c>=T).length,...i})).sort((i,d)=>d.contestsLength-i.contestsLength).slice(0,x);return(i,d)=>{const c=I("router-link");return h(),f("div",H,[a("div",M,[a("div",O,[$,e(t(p),{data:t(N),class:"pt-2"},{columns:s(({row:l})=>[e(t(u),{label:"比赛","mobile-header-class":["min-w-8"]},{default:s(()=>[e(c,{to:l.path},{default:s(()=>[o(n(l.name),1)]),_:2},1032,["to"])]),_:2},1024),e(t(u),{label:"时间",align:"center",width:"10em"},{default:s(()=>[l.startTime?(h(),f("span",q,n(t(L)(l.startTime).value),1)):D("v-if",!0)]),_:2},1024),e(t(u),{label:"人数",align:"center",width:"5em"},{default:s(()=>[a("div",U,[e(t(g)),z,a("span",null,"x "+n(l.participantNumber),1)])]),_:2},1024)]),empty:s(()=>[G]),_:1},8,["data"]),a("div",J,[e(c,{to:{name:"Contests"},class:"text-gray-400 font-thin hover:underline"},{default:s(()=>[K]),_:1})])])]),a("div",P,[a("div",Q,[a("div",R,[a("h3",W,[t(v)!==""?(h(),f("span",X,n(t(v))+" ",1)):D("v-if",!0),Y]),a("div",Z,[e(t(_),{title:"用户"},{prefix:s(()=>[e(t(g))]),default:s(()=>[o(n(t(m).length),1)]),_:1}),e(t(_),{title:"参与比赛"},{prefix:s(()=>[e(t(F),{class:"text-blue-400"})]),default:s(()=>[o(n(t(S)),1)]),_:1}),e(t(_),{title:"提交"},{prefix:s(()=>[e(t(A),{class:"text-yellow-400"})]),default:s(()=>[o(n(t(V)),1)]),_:1}),e(t(_),{title:"正确提交"},{prefix:s(()=>[e(t(E),{class:"text-red-400"})]),default:s(()=>[o(n(t(j)),1)]),_:1})]),a("div",tt,[e(c,{to:{name:"History"},class:"text-gray-400 font-thin hover:underline"},{default:s(()=>[et]),_:1})])]),a("div",st,[a("h3",{class:"mb-4"},"最近"+n(b)+"用户提交数"),e(t(p),{data:t(C),mobile:0},{columns:s(({row:l,index:r})=>[e(t(u),{label:"#",width:"2em",align:"center"},{default:s(()=>[a("span",at,n(r+1),1)]),_:2},1024),e(t(u),{label:"姓名"},{default:s(()=>[e(B,{name:l.name},null,8,["name"])]),_:2},1024),e(t(u),{label:"提交数",width:"6em",align:"center"},{default:s(()=>[a("span",null,n(l.submissions.length),1)]),_:2},1024)]),_:1},8,["data"]),a("div",nt,[e(c,{to:{name:"Members"},class:"text-gray-400 font-thin hover:underline"},{default:s(()=>[lt]),_:1})])]),a("div",ot,[a("h3",{class:"mb-4"},"最近"+n(b)+"用户比赛数"),e(t(p),{data:t(y),mobile:0},{columns:s(({row:l,index:r})=>[e(t(u),{label:"#",width:"2em",align:"center"},{default:s(()=>[a("span",ut,n(r+1),1)]),_:2},1024),e(t(u),{label:"姓名"},{default:s(()=>[e(B,{name:l.name},null,8,["name"])]),_:2},1024),e(t(u),{label:"比赛数",width:"6em",align:"center"},{default:s(()=>[a("span",null,n(l.contestsLength),1)]),_:2},1024)]),_:1},8,["data"]),a("div",it,[e(c,{to:{name:"Members"},class:"text-gray-400 font-thin hover:underline"},{default:s(()=>[ct]),_:1})])])])])])}}});export{pt as default};
