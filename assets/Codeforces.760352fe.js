import{d as Z,v as w,x as tt,c as G,f as o,w as a,g as e,e as h,t as l,G as et,b as st,o as _,B,i,h as I,k as J,H as g,I as nt,E as b,J as at}from"./index.a3efe635.js";import{u as ot}from"./users.07482805.js";import{C as u,a as rt}from"./c-table.273e4302.js";import{_ as lt}from"./user-link.8b188fd8.js";import{_ as D}from"./cf-rating-color.ad1560bf.js";import"./load.be0a3c09.js";const ct={class:"divide-y"},ut=h("h2",{class:"mb-4"},"Codeforces",-1),it={class:"font-600"},dt=["href"],ft={key:0},gt=h("div",{class:"my-4 px-3"},"\u4EBA\u634F\uFF1F",-1),ht={class:"mt-4 pt-4"},mt={class:"text-gray-400"},Dt=Z({__name:"Codeforces",setup(_t){var O,N;const S=et(),L=String((O=S.query.sort)!=null?O:"\u6700\u8FD1\u901A\u8FC7"),M=String((N=S.query.order)!=null?N:"desc"),m=w(st),C=t=>t.startsWith("codeforces"),U=t=>{const f=t.submissions.filter(({type:s})=>C(s)),p=f.length,n=f.filter(({v:s})=>s===1).length,z=f.filter(({t:s})=>s>=m.value).length,K=f.filter(({t:s,v:r})=>s>=m.value&&r===1).length,P=t.contests.filter(({type:s,t:r})=>r>=m.value&&C(s)).length,v=f.filter(({t:s,v:r,d:c})=>s>=m.value&&r===1&&b(c)),V=v.reduce((s,r)=>{var c;return s+((c=r.d)!=null?c:0)},0),Q=Math.ceil(v.length>0?V/v.length:0),$=f.filter(({v:s})=>s===1).sort((s,r)=>r.t-s.t),X=$.length>0?$[0].t:0,y=t.handles.filter(s=>C(s.type));let H=y.length>0?y[0].handle:"",q=!1;const Y=y.reduce((s,r)=>{const c=r;return b(c.codeforces)&&(q=!0),b(c.codeforces)&&c.codeforces.rating>s?(H=c.handle,c.codeforces.rating):s},0);return{subCount:p,okCount:n,recentSubCount:z,recentOkCount:K,recentContest:P,recentDiffcult:V,recentAvgDiffcult:Q,lastSolveTime:X,rating:Y,isRated:q,handle:H,...t}},W=tt(()=>ot.map(U)),k=g(t=>t.rating),F=g(t=>t.recentOkCount),A=g(t=>t.recentContest),T=g(t=>t.lastSolveTime),x=g(t=>t.recentAvgDiffcult),E=g(t=>t.okCount),R=g(t=>t.contests.length),j=at(t=>t.name);function d(t){return nt(t,k,F,A,T,x,E,R,j)}return(t,f)=>(_(),G("div",ct,[ut,o(e(rt),{data:W.value,cache:"codeforces","default-sort":e(L),"default-sort-order":e(M)},{columns:a(({index:p,row:n})=>[o(e(u),{label:"#",width:"3em",align:"center"},{default:a(()=>[h("span",it,l(p+1),1)]),_:2},1024),o(e(u),{label:"\u59D3\u540D"},{default:a(()=>[o(lt,{name:n.name},null,8,["name"])]),_:2},1024),o(e(u),{label:"Handle"},{default:a(()=>[h("a",{href:`https://codeforces.com/profile/${n.handle}`,target:"_blank"},[n.isRated?(_(),B(e(D),{key:0,rating:n.rating},{default:a(()=>[i(l(n.handle),1)]),_:2},1032,["rating"])):(_(),B(e(D),{key:1},{default:a(()=>[i(l(n.handle),1)]),_:2},1024))],8,dt)]),_:2},1024),o(e(u),{label:"Rating",sort:d(e(k)),align:"right"},{default:a(()=>[n.isRated?(_(),B(e(D),{key:0,rating:n.rating,"disable-legendary":""},{default:a(()=>[i(l(n.rating),1)]),_:2},1032,["rating"])):I("v-if",!0)]),_:2},1032,["sort"]),o(e(u),{label:"\u6700\u8FD1\u901A\u8FC7",width:"7em",align:"right",sort:d(e(F))},{default:a(()=>[i(l(n.recentOkCount),1)]),_:2},1032,["sort"]),o(e(u),{label:"\u6700\u8FD1\u5E73\u5747\u96BE\u5EA6",width:"10em",align:"right",sort:d(e(x))},{default:a(()=>[i(l(n.recentAvgDiffcult),1)]),_:2},1032,["sort"]),o(e(u),{label:"\u6700\u8FD1\u6BD4\u8D5B",width:"7em",align:"right",sort:d(e(A))},{default:a(()=>[i(l(n.recentContest),1)]),_:2},1032,["sort"]),o(e(u),{label:"\u6700\u65B0\u901A\u8FC7",width:"10em",align:"center",sort:d(e(T))},{default:a(()=>[n.lastSolveTime>0?(_(),G("span",ft,l(e(J)(n.lastSolveTime).value),1)):I("v-if",!0)]),_:2},1032,["sort"]),o(e(u),{label:"\u901A\u8FC7",width:"5em",align:"right",sort:d(e(E))},{default:a(()=>[i(l(n.okCount),1)]),_:2},1032,["sort"]),o(e(u),{label:"\u6BD4\u8D5B",width:"5em",align:"right",sort:d(e(R))},{default:a(()=>[i(l(n.contests.length),1)]),_:2},1032,["sort"])]),empty:a(()=>[gt]),_:1},8,["data","default-sort","default-sort-order"]),h("div",ht,[h("span",mt,"\u6700\u8FD1\u5F00\u59CB\u4E8E "+l(e(J)(m.value).value),1)])]))}});export{Dt as default};
